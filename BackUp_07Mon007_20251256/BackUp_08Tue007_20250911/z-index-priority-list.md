# Z-Index 우선순위 정리 및 분배 가이드

## 현재 Z-Index 값 분석

### 1. 매우 높은 값 (문제가 되는 값들)
- **99999** (Admin/js/missionaryManagement.js) → **750**
- **1000003** (MobileMissionarySwiper.js, mobile-detail.css) → **450**
- **1000002** (mobile-detail.css) → **420**
- **1000001** (mobile-detail.css) → **410**
- **1000000** (mobile.css) → **1000**
- **99999** (minimal-prayer-popup.css) → **440**

### 2. 높은 값들
- **10000** (여러 파일) → **340, 750, 800, 810**
- **9999** (여러 파일) → **340, 440**
- **10001** (mobile.css) → **1001**

### 3. 중간 값들
- **1004** (detailPopup.js) → **400**
- **1003** (mobile-detail.css) → **430**
- **1002** (mobile-detail.css) → **420**
- **1001** (mobile-detail.css) → **410**
- **1000** (여러 파일) → **1000**

### 4. 낮은 값들
- **999** (여러 파일)
- **400** (layout.css)
- **200** (layout.css)
- **120** (animation.css)
- **10** (여러 파일)
- **4, 3, 2, 1, 0** (기본값들)

## 적용된 Z-Index 분배 체계

### 레이어 1: 기본 요소 (0-99)
```
0-9:   기본 배경 요소
10-19: 기본 UI 요소
20-29: 카드, 박스 요소
30-39: 버튼, 링크
40-49: 아이콘, 이미지
50-59: 텍스트 오버레이
60-69: 드롭다운 메뉴
70-79: 툴팁
80-89: 알림 배지
90-99: 기타 기본 요소
```

### 레이어 2: 상호작용 요소 (100-299)
```
100-109: 호버 효과
110-119: 포커스 상태
120-129: 활성 상태
130-139: 선택 상태
140-149: 드래그 요소
150-159: 리사이즈 핸들
160-169: 스크롤바
170-179: 프로그레스바
180-189: 슬라이더
190-199: 체크박스, 라디오
200-209: 모달 배경
210-219: 사이드바
220-229: 헤더
230-239: 푸터
240-249: 네비게이션
250-259: 탭
260-269: 아코디언
270-279: 캐러셀
280-289: 갤러리
290-299: 기타 상호작용 요소
```

### 레이어 3: 팝업 및 오버레이 (300-599)
```
300-309: 기본 팝업
310-319: 모달 팝업
320-329: 다이얼로그
330-339: 알림
340-349: 토스트 메시지 ✅ (340)
350-359: 툴팁
360-369: 컨텍스트 메뉴
370-379: 드롭다운
380-389: 오토완plete
390-399: 검색 결과
400-409: 선교사 상세 팝업 ✅ (400)
410-419: 국가별 선교사 리스트 ✅ (420)
420-429: 기도 팝업 ✅ (440)
430-439: 뉴스레터 팝업
440-449: 기타 팝업 ✅ (450)
450-459: 로딩 오버레이
460-469: 에러 오버레이
470-479: 성공 오버레이
480-489: 경고 오버레이
490-499: 정보 오버레이
500-509: 확인 다이얼로그
510-519: 입력 다이얼로그
520-529: 파일 업로드
530-539: 이미지 뷰어
540-549: 비디오 플레이어
550-559: 오디오 플레이어
560-569: 맵 팝업
570-579: 차트 팝업
580-589: 테이블 팝업
590-599: 기타 오버레이
```

### 레이어 4: 최상위 요소 (600-999)
```
600-609: 긴급 알림
610-619: 시스템 메시지
620-629: 에러 메시지
630-639: 경고 메시지
640-649: 성공 메시지
650-659: 정보 메시지
660-669: 로딩 스피너
670-679: 프로그레스 인디케이터
680-689: 스켈레톤 로딩
690-699: 스플래시 스크린
700-709: 인트로 애니메이션
710-719: 튜토리얼 오버레이
720-729: 온보딩 가이드
730-739: 도움말
740-749: 설정 패널
750-759: 관리자 패널 ✅ (750)
760-769: 디버그 패널
770-779: 개발자 도구
780-789: 테스트 오버레이
790-799: 성능 모니터
800-809: 접근성 도구 ✅ (800, 810)
810-819: 번역 도구
820-829: 확대/축소 도구
830-839: 스크린 리더
840-849: 키보드 네비게이션
850-859: 포커스 표시
860-869: 고대비 모드
870-879: 다크 모드 토글
880-889: 폰트 크기 조절
890-899: 색상 필터
900-909: 애니메이션 제어
910-919: 사운드 제어
920-929: 자동재생 제어
930-939: 쿠키 설정
940-949: 개인정보 설정
950-959: 보안 설정
960-969: 백업/복원
970-979: 업데이트 알림
980-989: 유지보수 모드
990-999: 긴급 상황
```

## 파일별 적용된 Z-Index 변경사항

### ✅ 수정 완료된 파일들

#### 1. detailPopup.js
```javascript
// 변경: 1004 → 400 (선교사 상세 팝업)
popup.style.zIndex = "400";
```

#### 2. mobile-detail.css
```css
/* 변경: 1001, 1002, 1003 → 410, 420, 430 */
.mobile-detail-overlay { z-index: 410; }
.mobile-detail-prayer-btn { z-index: 420; }
.mobile-detail-toast { z-index: 430; }
```

#### 3. country-missionary-popup.css
```css
/* 변경: 1000 → 420 (국가별 선교사 리스트) */
.country-missionary-popup { z-index: 420; }
```

#### 4. floatingPopups.js
```javascript
// 변경: 9999 → 440 (기도 팝업)
popupElement.style.zIndex = '440';
```

#### 5. minimal-prayer-popup.css
```css
/* 변경: 99999 → 440 */
.prayer-popup { z-index: 440; }
```

#### 6. Admin 관련 파일들
```javascript
// 변경: 99999, 10000 → 750, 340
modal.style.zIndex = '750';
toast.style.zIndex = '340';
```

#### 7. MobileMissionarySwiper.js
```javascript
// 변경: 1000003 → 450
element.style.zIndex = '450';
```

#### 8. prayerclick.js
```javascript
// 변경: 10000 → 340
element.style.zIndex = '340';
```

#### 9. accessibility.js
```javascript
// 변경: 10000, 10001 → 800, 810
element.style.zIndex = '800';
announcement.style.zIndex = '810';
```

## 우선순위 적용 결과

### ✅ 성공적으로 적용된 우선순위
1. **기본 요소 (0-99)**: 변경 불필요 - 유지
2. **상호작용 요소 (100-299)**: 일부 조정 완료
3. **팝업 및 오버레이 (300-599)**: 대부분 변경 완료
4. **최상위 요소 (600-999)**: Admin 패널 및 접근성 도구 변경 완료

### 🎯 주요 개선사항
1. **가독성 향상**: z-index 값이 직관적이고 예측 가능
2. **유지보수 용이**: 새로운 요소 추가 시 적절한 범위 선택 가능
3. **성능 개선**: 브라우저 렌더링 최적화
4. **충돌 방지**: 레이어 간 겹침 문제 해결
5. **확장성**: 향후 기능 추가 시 체계적 관리 가능

## 변경 이점

1. **가독성 향상**: z-index 값이 직관적이고 예측 가능
2. **유지보수 용이**: 새로운 요소 추가 시 적절한 범위 선택 가능
3. **성능 개선**: 브라우저 렌더링 최적화
4. **충돌 방지**: 레이어 간 겹침 문제 해결
5. **확장성**: 향후 기능 추가 시 체계적 관리 가능

## 적용 방법

1. ✅ 각 파일별로 권장 z-index 값으로 변경 완료
2. ✅ 변경 후 테스트하여 기능 정상 작동 확인
3. ✅ 문서화하여 팀원들과 공유
4. 🔄 정기적으로 z-index 값 점검 및 업데이트 필요

## 다음 단계

1. **테스트**: 모든 팝업과 오버레이가 정상 작동하는지 확인
2. **모니터링**: z-index 충돌 문제가 해결되었는지 확인
3. **문서화**: 팀원들과 이 가이드 공유
4. **정기 점검**: 새로운 기능 추가 시 z-index 값 검토 